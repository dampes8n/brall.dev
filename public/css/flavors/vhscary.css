/* VHScary - VHS inspired lo-fi horror vibe */

/* Import Google Fonts for retro horror aesthetic */
@import url('https://fonts.googleapis.com/css2?family=Creepster&family=Special+Elite&family=VT323&display=swap');

/* ============================================
   COLOR VARIABLES
   ============================================ */

:root {
    /* Font sizes - h1 uses large size for VHS effect */
    --font-size-h1: 6rem;
    --text-primary: #FFFEF0;
    --logo-color: var(--text-primary);
    --secondary-bg: hsl(0, 30%, 7%);
    --panel-bg: hsl(0, 30%, 7%);
    --tag-bg: hsl(0, 30%, 13%);
    --tag-bg-hover: hsl(0, 30%, 13%);
    
    /* Font families */
    --font-family-base: 'Special Elite', 'Courier New', 'Courier', monospace;
    --font-family-headings: 'Special Elite', 'Courier New', 'Courier', monospace;
    --font-family-h1: 'Creepster', 'Special Elite', 'Courier New', monospace;
    
    /* Heading colors */
    --text-h1: red;
    --text-h2: var(--text-primary);
    --text-h3: var(--text-primary);
    --text-h4: var(--text-primary);
    --text-h5: var(--text-primary);
    --text-h6: var(--text-primary);
}

/* ============================================
   VHS SCAN LINES & TEXTURE EFFECTS
   ============================================ */

body {
    position: relative;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15),
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
    );
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: overlay;
}

body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 50%, rgba(139, 0, 0, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(139, 0, 139, 0.05) 0%, transparent 50%);
    pointer-events: none;
    z-index: 9998;
}

/* ============================================
   TYPOGRAPHY - FONT CHANGES ONLY
   ============================================ */

h1 {
    font-size: 13.5cqw;
    line-height: 1;
    animation: vhs-flicker 8s infinite;
}

/* ============================================
   LAYOUT ELEMENTS - BORDERS & BACKGROUNDS
   ============================================ */

#main-content,
#main-menu,
#situational-menu {
    border: 1px solid red;
    background: rgba(0, 0, 0, 0.75);
}

#main-footer {
    border-top: 1px solid red;
    background: rgba(0, 0, 0, 0.75);
    mix-blend-mode: screen;
}

/* ============================================
   TEXT SHADOWS
   ============================================ */

/* Most text - 1px shadow to bottom right */
body,
p,
a,
span,
li,
td,
th,
label,
input,
select,
textarea,
button {
    text-shadow: 1px 1px 0 hsl(0, 30%, 5%);
}

/* H2 - 3px shadow to bottom right */
h2 {
    text-shadow: 3px 3px 0 hsl(0, 30%, 5%);
}

/* H1 - Multiple shadows: 1px, 2px, 3px, 4px, 5px, 6px to bottom right */
h1 {
    text-shadow: 
        1px 1px 0 hsl(0, 30%, 5%),
        2px 2px 0 hsl(0, 30%, 5%),
        3px 3px 0 hsl(0, 30%, 5%),
        4px 4px 0 hsl(0, 30%, 5%),
        5px 5px 0 hsl(0, 30%, 5%),
        6px 6px 0 hsl(0, 30%, 5%);
}

/* VHS Flicker Animation - flickers text color to match drop shadow 3-10 times, repeated 3 times with varied counts */
@keyframes vhs-flicker {
    /* First flicker sequence (0-33%) - 4 flickers */
    0% { color: red; }
    0.6% { color: hsl(0, 30%, 5%); }
    1% { color: red; }
    1.4% { color: hsl(0, 30%, 5%); }
    1.8% { color: red; }
    2.2% { color: hsl(0, 30%, 5%); }
    2.6% { color: red; }
    3% { color: hsl(0, 30%, 5%); }
    3.4% { color: red; }
    
    /* Second flicker sequence (33-66%) - 9 flickers */
    33% { color: red; }
    33.2% { color: hsl(0, 30%, 5%); }
    33.4% { color: red; }
    33.6% { color: hsl(0, 30%, 5%); }
    33.8% { color: red; }
    34% { color: hsl(0, 30%, 5%); }
    34.2% { color: red; }
    34.4% { color: hsl(0, 30%, 5%); }
    34.6% { color: red; }
    34.8% { color: hsl(0, 30%, 5%); }
    35% { color: red; }
    35.2% { color: hsl(0, 30%, 5%); }
    35.4% { color: red; }
    35.6% { color: hsl(0, 30%, 5%); }
    35.8% { color: red; }
    36% { color: hsl(0, 30%, 5%); }
    36.2% { color: red; }
    36.4% { color: hsl(0, 30%, 5%); }
    36.6% { color: red; }
    36.8% { color: hsl(0, 30%, 5%); }
    37% { color: red; }
    
    /* Third flicker sequence (66-100%) - 6 flickers */
    66% { color: red; }
    66.3% { color: hsl(0, 30%, 5%); }
    66.6% { color: red; }
    66.9% { color: hsl(0, 30%, 5%); }
    67.2% { color: red; }
    67.5% { color: hsl(0, 30%, 5%); }
    67.8% { color: red; }
    68.1% { color: hsl(0, 30%, 5%); }
    68.4% { color: red; }
    68.7% { color: hsl(0, 30%, 5%); }
    69% { color: red; }
    69.3% { color: hsl(0, 30%, 5%); }
    69.6% { color: red; }
    
    100% { color: red; }
}

/* ============================================
   BACKGROUND VIDEO & LAYOUT BLEND MODE
   ============================================ */

#backgrounds video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
}

#backgrounds .vignette-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: radial-gradient(circle at center, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.5) 100%);
    z-index: 1;
}

#layout-wrapper {
    mix-blend-mode: screen;
    -webkit-overflow-scrolling: touch;
}


/* ============================================
   TRANSITION VIDEO
   ============================================ */

#foregrounds .transition-video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
    z-index: 3;
}

#foregrounds .transition-video.active {
    opacity: 1;
}

/* ============================================
   FILTER CIRCLES - REVERSED BORDER COLORS
   ============================================ */

.filter-color {
    border: 2px solid hsl(0, 0%, 0%);
}

.filter-controls input[type="checkbox"]:checked + .filter-color {
    box-shadow: 0 0 0 3px hsl(0, 0%, 100%);
}

.filter-controls label:hover .filter-color {
    box-shadow: 0 0 0 3px hsl(0, 0%, 100%);
}

.filter-separator {
    background: hsl(0, 0%, 100%);
}

.filter-controls input[type="checkbox"]:checked + .filter-major {
    text-decoration-color: hsl(0, 0%, 100%);
}

/* ============================================
   IMAGES
   ============================================ */

img {
    border: 2px solid red;
    filter: grayscale(0.7) contrast(2) hue-rotate(15deg);
}

/* ============================================
   MOBILE ADJUSTMENTS
   ============================================ */

@media (max-width: 799px) {
    #main-content {
        -webkit-overflow-scrolling: touch;
        touch-action: pan-y;
    }
    
    b-hamburger.menu-toggle-label,
    .menu-toggle-label {
        bottom: calc(4.7rem + var(--spacing-triple) + var(--spacing-triple));
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        line-height: 1;
    }
}
