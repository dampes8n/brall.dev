<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Résumé - Will Brall's Portfolio</title>
    <meta name="title" content="Will Brall - Principal Creative Web Developer">
    <meta name="description" content="Portfolio of Will Brall, Principal Creative Web Developer. Leading experience, architecture & aesthetics. Work has served millions of users across The Elder Scrolls Online, Army.mil, and more.">
    <meta name="keywords" content="Will Brall, web developer, frontend developer, UX designer, portfolio, creative developer, ZeniMax, Elder Scrolls Online, Army.mil">
    <meta name="author" content="Will Brall">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.brall.dev/">
    <meta property="og:title" content="Will Brall - Principal Creative Web Developer">
    <meta property="og:description" content="Portfolio of Will Brall, Principal Creative Web Developer. Leading experience, architecture & aesthetics. Work has served millions of users across The Elder Scrolls Online, Army.mil, and more.">
    <meta property="og:image" content="https://www.brall.dev/img/me.jpg">
    <meta property="og:site_name" content="Will Brall's Portfolio">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.brall.dev/">
    <meta name="twitter:title" content="Will Brall - Principal Creative Web Developer">
    <meta name="twitter:description" content="Portfolio of Will Brall, Principal Creative Web Developer. Leading experience, architecture & aesthetics. Work has served millions of users across The Elder Scrolls Online, Army.mil, and more.">
    <meta name="twitter:image" content="https://www.brall.dev/img/me.jpg">
    
    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#ffffff">
    <link rel="canonical" href="https://www.brall.dev/">
    <!-- Preconnect to CDN for faster resource loading -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <!-- Preload Font Awesome webfont (critical for initial render) -->
    <link rel="preload" as="font" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-solid-900.woff2" type="font/woff2" crossorigin="anonymous">
    <!-- Preload initial page content (loaded via fetch in router) -->
    <link rel="preload" as="fetch" href="partials/Resume.html" crossorigin>
    <!-- Preload critical JSON files for initial page (Resume page loads timeline and skillsets) -->
    <link rel="preload" as="fetch" href="data/timeline-events.json" crossorigin>
    <link rel="preload" as="fetch" href="data/skills.json" crossorigin>
    <link rel="preload" as="fetch" href="data/projects.json" crossorigin>
    <link rel="preload" as="fetch" href="data/skillsets.json" crossorigin>
    <style>
/* Core CSS - Base styles and layout */

:root { --filetype-alt: "File"; --transition-duration: 0.3s; --primary-bg: hsl(0, 0%, 94%); --secondary-bg: hsl(0, 0%, 100%); --tag-bg: hsla(0, 0%, 0%, 0.05); --tag-bg-hover: hsla(0, 0%, 0%, 0.1); --timeline-academic: hsl(283, 39%, 53%); --timeline-employed: hsl(140, 49%, 54%); --timeline-independent: hsl(0, 100%, 71%); --timeline-personal: hsl(32, 89%, 51%); --panel-bg: hsla(0, 0%, 100%, 0.94); --panel-blur: blur(10px); --list-reset: list-style: none; padding: 0; margin: 0; --scrollbar-width: 4px; --scrollbar-track-bg: transparent; --scrollbar-thumb-bg: hsla(0, 0%, 0%, 0.15); --scrollbar-thumb-hover-bg: hsla(0, 0%, 0%, 0.25); --font-size-base: 1rem; --font-size-base-small: 0.9rem; --font-size-h1: 3rem; --font-size-h2: 1.75rem; --font-size-h3: 1.5rem; --font-size-h4: 1.25rem; --font-size-h5: 1.1rem; --font-size-h6: 1rem; --font-family-base: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; --font-family-headings: var(--font-family-base); --font-family-h1: var(--font-family-headings); --text-primary: hsl(0, 0%, 10%); --text-h1: var(--text-primary); --text-h2: var(--text-primary); --text-h3: var(--text-primary); --text-h4: var(--text-primary); --text-h5: var(--text-primary); --text-h6: var(--text-primary); --logo-color: hsl(0, 0%, 0%); --spacing-single: 0.5rem; --spacing-double: 1rem; --spacing-triple: 1.5rem; --spacing-double-triple: 3rem; }
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: var(--font-family-base); font-size: var(--font-size-base); min-height: 100vh; height: 100vh; overflow: hidden; position: relative; line-height: 1.7; color: var(--text-primary); background-color: var(--primary-bg); }

/* Typography */
h1, h2, h3, h4, h5, h6 { font-family: var(--font-family-headings); font-weight: 600; line-height: 1.7; margin: 0; text-wrap: balance; }
h1 { font-family: var(--font-family-h1); font-size: var(--font-size-h1); color: var(--text-h1); }
h2 { font-size: var(--font-size-h2); color: var(--text-h2); }
h3 { font-size: var(--font-size-h3); color: var(--text-h3); }
h4 { font-size: var(--font-size-h4); color: var(--text-h4); }
h5 { font-size: var(--font-size-h5); color: var(--text-h5); }
h6 { font-size: var(--font-size-h6); color: var(--text-h6); }
p { margin-bottom: var(--spacing-double); font-size: var(--font-size-base); line-height: 1.7; color: var(--text-primary); }
blockquote { margin-bottom: var(--spacing-double); padding: var(--spacing-double); border-left: 3px solid var(--accent, hsl(210, 100%, 50%)); background: var(--panel-bg); border-radius: 0; border-top-right-radius: 8px; border-bottom-right-radius: 8px; font-size: var(--font-size-base); line-height: 1.7; color: var(--text-primary); position: relative; }
img { border-radius: 8px; max-width: 100%; height: auto; display: block; margin: 0 auto; }

a { color: hsl(210, 100%, 40%); text-decoration: underline; margin: 0; line-height: 1.7; }
a:hover, a:focus { color: hsl(210, 100%, 30%); text-decoration: none; }
a:focus { outline: 2px solid hsl(210, 100%, 40%); outline-offset: 2px; border-radius: 2px; }
a[href^="#!"] { display: inline-block; color: var(--accent, hsl(210, 100%, 50%)); text-decoration: none; cursor: pointer; }
a[href^="#!"]:hover { color: var(--accent-hover, hsl(210, 100%, 35%)); text-decoration: underline; }
a[href^="#!"]:focus { outline: none; }
a[href^="#!"]:visited { color: var(--accent-visited, hsl(271, 68%, 32%)); }
a[href$=".pdf"]::after { content: "\f1c1"; font-family: "Font Awesome 6 Free"; font-weight: 900; margin-left: var(--spacing-single); font-size: var(--font-size-base-small); }
a[href$=".doc"]::after, a[href$=".docx"]::after { content: "\f1c2"; font-family: "Font Awesome 6 Free"; font-weight: 900; margin-left: var(--spacing-single); font-size: var(--font-size-base-small); }
a.tag:hover { background: var(--tag-bg-hover); text-decoration: underline; }

.skip-link { position: absolute; top: -9999px; left: 0; background: hsl(0, 0%, 0%); color: hsl(0, 0%, 100%); padding: 8px; text-decoration: none; z-index: 1000; overflow: hidden; }
.skip-link:focus { top: 0; overflow: visible; }
.skip-link:focus:not(:active) { scroll-margin-top: 0; }

/* Layout */
#layout-wrapper { display: grid; grid-template-columns: 250px 1fr 250px; gap: 0 var(--spacing-single); contain: layout style; }
#main-menu, #main-content, #situational-menu { background: var(--panel-bg); backdrop-filter: var(--panel-blur); border-radius: 8px; contain: layout style paint; }
#main-menu { grid-column: 1; padding: var(--spacing-double); margin: 0 0 var(--spacing-single) var(--spacing-single); position: sticky; top: var(--spacing-single); align-self: start; max-height: calc(100vh - 1rem); overflow-y: auto; box-sizing: border-box; }
#main-menu ul, #situational-menu ul { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: var(--spacing-single); }
#main-menu li { margin: 0; }
#main-menu a i { margin-right: var(--spacing-single); }
#main-menu a[href^="#!"] { display: block; padding: var(--spacing-single) var(--spacing-double); margin: 0; border-radius: 6px; transition: all 0.2s ease; }
#main-menu a[href^="#!"]:hover, #main-menu a[href^="#!"]:focus, #situational-menu a:hover, #situational-menu a:focus { background: hsla(210, 100%, 50%, 0.1); color: var(--accent, hsl(210, 100%, 50%)); outline: none; }

#main-content { grid-column: 2; height: calc(100vh - var(--spacing-single) - 4.7rem - var(--spacing-single)); margin: var(--spacing-single) 0; outline: none; align-self: start; overflow-y: auto; overflow-x: hidden; position: sticky; top: var(--spacing-single); contain: layout style; }
#main-content:focus { outline: none; }
#situational-menu { grid-column: 3; padding: var(--spacing-double); margin: 0 var(--spacing-double) var(--spacing-single) 0; position: sticky; top: var(--spacing-single); align-self: start; max-height: calc(100vh - 1rem); overflow-y: auto; box-sizing: border-box; }
#situational-menu nav { margin: 0; }
#situational-menu h2 { font-size: var(--font-size-h6); font-weight: 600; margin: 0 0 var(--spacing-double) 0; color: var(--text-h2); }
#main-menu li, #situational-menu li { margin: 0; }
#situational-menu a { display: block; padding: var(--spacing-single) var(--spacing-double); border-radius: 6px; font-size: var(--font-size-base-small); text-decoration: none; transition: all 0.2s ease; }
#situational-menu li:first-child a { font-weight: 600; color: var(--text-primary, hsl(0, 0%, 10%)); background: hsla(0, 0%, 0%, 0.05); }

b-hamburger.menu-toggle-label, .menu-toggle-label { display: none; }
#backgrounds { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1; contain: layout style paint; }
#foregrounds { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 999; contain: layout style paint; }
b-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; contain: layout style paint; }
b-layer .layer-content { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
#content-pane { position: relative; z-index: 1; padding: var(--spacing-triple) var(--spacing-double-triple); container-type: inline-size; container-name: content; contain: layout style; }
section { margin-bottom: var(--spacing-triple); }
header { margin-bottom: var(--spacing-triple); }
.tagline { font-size: var(--font-size-h4); letter-spacing: 2px; }
.blockquote-with-logo { display: grid; grid-template-columns: auto 1fr; gap: var(--spacing-single); align-items: stretch; margin-bottom: var(--spacing-double); }
.blockquote-with-logo blockquote { margin-bottom: 0; }
.blockquote-with-logo .resume-logo { width: auto; height: 100%; min-width: 100px; -webkit-mask-image: url('img/logo.svg'); mask-image: url('img/logo.svg'); -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat; -webkit-mask-size: contain; mask-size: contain; -webkit-mask-position: center; mask-position: center; background-color: var(--logo-color); }
article { border-radius: 4px; margin-bottom: var(--spacing-triple); }
article article { border: none; margin-bottom: 0; padding-bottom: 0; background: transparent; }
article h3 { margin: 0; }
article p { line-height: 1.7; font-size: var(--font-size-base); }
#main-footer { position: fixed; bottom: 0; left: 0; right: 0; padding: var(--spacing-single) var(--spacing-triple); background: var(--secondary-bg, hsla(0, 0%, 100%, 0.95)); border-top: 1px solid hsla(0, 0%, 0%, 0.1); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; z-index: 100; backdrop-filter: blur(10px); min-height: 4.7rem; box-sizing: border-box; }
#main-footer .copyright { margin: 0; font-size: var(--font-size-base-small); color: var(--text-primary, hsla(0, 0%, 0%, 0.6)); }
b-flavor-selector { display: flex; align-items: center; gap: var(--spacing-single); }
b-flavor-selector label { font-size: var(--font-size-base-small); color: var(--text-primary, hsl(0, 0%, 10%)); }
b-flavor-selector select { padding: var(--spacing-single); border: 1px solid hsla(0, 0%, 0%, 0.2); border-radius: 4px; background: var(--secondary-bg); font-size: var(--font-size-base-small); color: var(--text-primary, hsl(0, 0%, 10%)); cursor: pointer; }

.tag.timeline-domain::before, .timeline-domain::before, .tags .timeline-domain::before, a.tag[href^="#!/subdomains/"]::before, a[href^="#!/subdomains/"].tag::before, .tags a[href^="#!/subdomains/"]::before, a.tag[href^="#!/projects/"]::before, a[href^="#!/projects/"].tag::before, .tags a[href^="#!/projects/"]::before, a.tag[href^="#!/skillsets/"]::before, a[href^="#!/skillsets/"].tag::before, .tags a[href^="#!/skillsets/"]::before, a.tag[href^="#!/timeline-events/"]::before, a[href^="#!/timeline-events/"].tag::before, .tags a[href^="#!/timeline-events/"]::before { font-family: "Font Awesome 6 Free"; font-weight: 900; margin-right: var(--spacing-single); }
.tag.timeline-domain::before, .timeline-domain::before, .tags .timeline-domain::before { content: "\f1c0"; }
a.tag[href^="#!/subdomains/"]::before, a[href^="#!/subdomains/"].tag::before, .tags a[href^="#!/subdomains/"]::before { content: "\f0e8"; }
a.tag[href^="#!/projects/"]::before, a[href^="#!/projects/"].tag::before, .tags a[href^="#!/projects/"]::before { content: "\f135"; }
a.tag[href^="#!/skillsets/"]::before, a[href^="#!/skillsets/"].tag::before, .tags a[href^="#!/skillsets/"]::before { content: "\f5fd"; }
a.tag[href^="#!/timeline-events/"]::before, a[href^="#!/timeline-events/"].tag::before, .tags a[href^="#!/timeline-events/"]::before { content: "\f017"; }

/* ============================================ STRUCTURAL CLASSES (Layout & Structure) ============================================ */

.card { background: var(--panel-bg); padding: var(--spacing-triple); border-radius: 8px; margin: var(--spacing-triple) auto; max-width: 800px; }
.card-list { display: grid; gap: var(--spacing-triple); margin-top: var(--spacing-double); max-height: max(50vh, 500px); overflow-y: auto; overflow-x: hidden; }

/* ============================================ STYLISTIC CLASSES (Appearance & Theme) ============================================ */

.tag { padding: var(--spacing-single) var(--spacing-triple); font-size: 0.9rem; display: inline-block; background: var(--tag-bg); border-radius: 3px; text-decoration: none; color: inherit; }
code { padding: var(--spacing-single) var(--spacing-triple); font-size: 0.9rem; display: inline-block; background: var(--tag-bg); border-radius: 3px; text-decoration: none; color: inherit; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
b-xp { display: inline-flex; align-items: center; margin-right: var(--spacing-single); }
.xp-char { display: inline-block; line-height: 1; }

a.tag:hover { background: var(--tag-bg-hover); text-decoration: underline; }

.tags { display: flex; gap: var(--spacing-single); flex-wrap: wrap; font-size: var(--font-size-base); margin-top: var(--spacing-single); margin-bottom: var(--spacing-triple); justify-content: flex-start; align-items: flex-start; }
p + .tags { margin-top: var(--spacing-triple); }
.tags > span, .tags > a { padding: var(--spacing-single) var(--spacing-triple); font-size: 0.9rem; display: inline-block; background: var(--tag-bg); border-radius: 3px; text-decoration: none; }
.tags > a:hover { background: var(--tag-bg-hover); text-decoration: underline; }
.related { margin-top: var(--spacing-triple); }
.related h2 { font-size: var(--font-size-h3); margin-bottom: var(--spacing-double); }

/* ============================================ TIMELINE SPECIFIC STYLES ============================================ */

.timeline-container { position: relative; padding: 0 calc(var(--spacing-double) + 2px) 0 0; min-height: 200px; max-height: max(50vh, 500px); overflow-y: auto; overflow-x: hidden; }

/* Full height mode - no scrolling, expands to fit content */
b-timeline.timeline-full-height .timeline-container { max-height: none; overflow-y: visible; }

/* ============================================ UNIFIED MINIMAL SCROLLBAR STYLING (DRY) ============================================ */

#main-menu ul { padding-right: 5px; }
#situational-menu nav { padding-right: 5px; }
* { scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb-bg) var(--scrollbar-track-bg); }
*::-webkit-scrollbar { width: var(--scrollbar-width); height: var(--scrollbar-width); }
*::-webkit-scrollbar-button { width: 0; height: 0; display: none; }
*::-webkit-scrollbar-button:single-button, *::-webkit-scrollbar-button:double-button, *::-webkit-scrollbar-button:start:decrement, *::-webkit-scrollbar-button:end:increment { width: 0; height: 0; display: none; }
*::-webkit-scrollbar-track { background: var(--scrollbar-track-bg); }
*::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb-bg); border-radius: 0; }
*::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover-bg); }

.timeline-container { position: relative; padding: 0 calc(var(--spacing-double) + 2px) 0 0; min-height: 200px; max-height: max(50vh, 500px); overflow-y: auto; overflow-x: hidden; }
b-timeline.timeline-full-height .timeline-container { max-height: none; overflow-y: visible; }
.timeline-event { position: relative; padding-left: calc(var(--spacing-single) * 8); margin-bottom: var(--spacing-triple); transition: height 0.3s ease, margin 0.3s ease, padding 0.3s ease, opacity 0.3s ease; transition-behavior: allow-discrete; opacity: 1; overflow: visible; }
.timeline-event-hidden { margin-bottom: 0; opacity: 0; pointer-events: none; height: 0; padding-top: 0; padding-bottom: 0; overflow: hidden; }
.timeline-marker { position: absolute; left: 12px; top: 17px; width: 20px; height: 20px; z-index: 3; transform: translateY(-50%); margin-top: var(--spacing-single); }
.timeline-marker-outer { position: absolute; top: 0; left: 0; width: 20px; height: 20px; border-radius: 50%; background: hsl(0, 0%, 50%); z-index: 1; }
.timeline-marker-inner { position: absolute; top: 50%; left: 50%; width: 14px; height: 14px; border-radius: 50%; background: var(--secondary-bg); transform: translate(-50%, -50%); z-index: 2; }
.timeline-marker::after { content: ''; position: absolute; top: 50%; left: 50%; width: 10px; height: 10px; border-radius: 50%; background: var(--accent, hsl(210, 100%, 50%)); transform: translate(-50%, -50%); z-index: 3; }
.timeline-event[data-domain="academic"] .timeline-marker::after { background: var(--timeline-academic); }
.timeline-event[data-domain="employed"] .timeline-marker::after { background: var(--timeline-employed); }
.timeline-event[data-domain="independent"] .timeline-marker::after { background: var(--timeline-independent); }
.timeline-event[data-domain="personal"] .timeline-marker::after { background: var(--timeline-personal); }
.timeline-title-star { color: var(--domain-color, var(--accent, hsl(210, 100%, 50%))); margin-right: var(--spacing-single); }
.timeline-event[data-domain="academic"] .timeline-title-star { color: var(--timeline-academic); }
.timeline-event[data-domain="employed"] .timeline-title-star { color: var(--timeline-employed); }
.timeline-event[data-domain="independent"] .timeline-title-star { color: var(--timeline-independent); }
.timeline-event[data-domain="personal"] .timeline-title-star { color: var(--timeline-personal); }
[data-domain="academic"] { --domain-color: var(--timeline-academic); }
[data-domain="employed"] { --domain-color: var(--timeline-employed); }
[data-domain="independent"] { --domain-color: var(--timeline-independent); }
[data-domain="personal"] { --domain-color: var(--timeline-personal); }

.timeline-event::before { content: ''; position: absolute; left: 21px; top: 16px; width: 2px; background: hsl(0, 0%, 50%); pointer-events: none; z-index: 0; height: calc(100% + 1.5rem - 0px); display: block; transition: height 0.5s ease, margin 0.5s ease, padding 0.5s ease, opacity 0.5s ease; transition-behavior: allow-discrete; }
.timeline-event:last-child::before, .timeline-event.timeline-last-visible::before { display: none; }
.timeline-event-hidden::before { opacity: 0; }
.timeline-content { background: var(--panel-bg); padding: 0 var(--spacing-double) var(--spacing-single); border-radius: 0; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-left: 3px solid var(--accent, hsl(210, 100%, 50%)); }
.timeline-event[data-domain] .timeline-content { border-left-color: var(--domain-color); }
.timeline-content time, .card time { font-weight: 600; color: var(--accent, hsl(210, 100%, 50%)); margin: 0; line-height: 1.7; font-size: var(--font-size-base-small); display: block; }
[data-domain] time, [data-domain] .timeline-content time { color: var(--domain-color); }
.timeline-content h3 { margin: 0; font-size: var(--font-size-h4); font-weight: 600; line-height: 1.7; }
.timeline-content p { font-size: var(--font-size-base); color: var(--text-primary, hsla(0, 0%, 0%, 0.7)); line-height: 1.7; }
.timeline-content .tags { display: flex; gap: var(--spacing-single); flex-wrap: wrap; font-size: var(--font-size-base-small); color: var(--text-primary, hsla(0, 0%, 0%, 0.6)); margin-top: var(--spacing-single); margin-bottom: 0; }
.timeline-content .tags > span, .timeline-content .tags > a { padding: var(--spacing-single) var(--spacing-single); background: var(--tag-bg); border-radius: 3px; text-decoration: none; display: inline-block; }
.timeline-content .tags > a:hover { background: var(--tag-bg-hover); text-decoration: underline; }
.timeline-domain { font-weight: 600; }
.timeline-event[data-domain] .timeline-domain, .card[data-domain] .timeline-domain, article[data-domain] .timeline-domain, [data-domain] .tags .timeline-domain { color: var(--domain-color); }
.timeline-skillset, .timeline-skill { font-weight: 500; }
.timeline-event-detail { position: relative; margin: var(--spacing-triple) auto; }
.timeline-event-detail::before { content: ''; position: absolute; left: 10px; top: 0; width: 20px; height: 20px; border-radius: 50%; background: var(--panel-bg); z-index: 1; }
.timeline-event-detail .card { background: var(--panel-bg); padding: var(--spacing-triple); border-radius: 8px; }
.timeline-event-detail h1 { font-size: var(--font-size-h1); margin: 0; line-height: 1.7; }
.timeline-event-detail p { font-size: var(--font-size-h4); line-height: 1.7; color: var(--text-primary, hsla(0, 0%, 0%, 0.8)); }
.timeline-event-detail .tags { font-size: var(--font-size-base); gap: var(--spacing-triple); margin-top: var(--spacing-single); }
.timeline-event-detail .tags > a > span, .timeline-event-detail .tags > span > a { background: transparent; padding: 0; border-radius: 0; }
.timeline-event-detail .timeline-domain { font-weight: 600; }
.timeline-event-detail[data-domain] .timeline-domain { color: var(--domain-color); }
.timeline-wrapper { position: relative; container-type: inline-size; container-name: timeline; width: 100%; margin-top: var(--spacing-double); }
.timeline-content-area { position: relative; }
.timeline-filters { float: right; width: 200px; padding: var(--spacing-double); margin: 0 0 var(--spacing-single) var(--spacing-double); background: var(--secondary-bg, hsl(0, 0%, 100%)); border-radius: 4px; clear: right; position: sticky; top: var(--spacing-double); z-index: 10; box-shadow: 0 2px 8px hsla(0, 0%, 0%, 0.1); }
.timeline-filters h2 { font-size: var(--font-size-h5); margin-bottom: var(--spacing-single); margin-top: 0; }
.filter-controls { display: flex; flex-direction: column; gap: var(--spacing-single); margin-top: var(--spacing-single); }
.filter-controls label { display: flex; align-items: center; gap: var(--spacing-single); cursor: pointer; font-size: var(--font-size-base); }
.filter-controls input[type="checkbox"] { position: absolute; opacity: 0; width: 0; height: 0; outline: none !important; border: none !important; box-shadow: none !important; }
.filter-controls input[type="checkbox"]:focus { outline: none !important; border: none !important; box-shadow: none !important; }
.filter-controls label:focus { outline: none !important; }
.filter-controls label:focus-within { outline: none !important; }
.filter-color { position: relative; display: inline-block; width: 14px; height: 14px; border-radius: 50%; flex-shrink: 0; transition: box-shadow 0.2s ease; border: 2px solid hsl(0, 0%, 100%); box-shadow: 0 0 0 0 transparent; }
.filter-color.academic { background: var(--timeline-academic); }
.filter-color.employed { background: var(--timeline-employed); }
.filter-color.independent { background: var(--timeline-independent); }
.filter-color.personal { background: var(--timeline-personal); }
.filter-separator { height: 1px; background: hsla(0, 0%, 0%, 0.2); margin: var(--spacing-double) 0 var(--spacing-single) 0; }
.filter-major { display: inline-block; font-size: var(--font-size-h4); line-height: 1; color: hsl(45, 100%, 50%); }
.filter-controls input[type="checkbox"]:checked + .filter-major { text-decoration: underline; text-decoration-color: hsl(0, 0%, 0%); text-decoration-thickness: 4px; }
.filter-controls input[type="checkbox"]:checked + .filter-color { box-shadow: 0 0 0 3px hsl(0, 0%, 0%); }
.filter-controls label:hover .filter-color { box-shadow: 0 0 0 3px hsl(0, 0%, 50%); }
.filter-controls label:hover { font-weight: bold; }

/* ============================================ PROJECTS, SKILLS, SKILLSETS ============================================ */

b-projects, b-skillsets { display: grid; gap: var(--spacing-triple); margin-top: var(--spacing-double); max-height: max(50vh, 500px); overflow-y: auto; overflow-x: hidden; }
b-projects.projects-full-height, b-skillsets.skillsets-full-height { max-height: none; overflow-y: visible; }
.skillset-group { margin-bottom: var(--spacing-double); }
.skillset-group h3 { margin: 0; font-size: var(--font-size-h3); }
.spotlight-projects { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-triple); margin-top: var(--spacing-double); }

/* ============================================ MEDIA QUERIES & CONTAINER QUERIES ============================================ */

@media (max-width: 1049px) { #layout-wrapper { grid-template-columns: 250px 1fr; } #situational-menu { display: none; } }
@media (max-width: 799px) { #layout-wrapper { grid-template-columns: 1fr; } #main-menu { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; display: none; margin: 0; padding: var(--spacing-triple) var(--spacing-triple) var(--spacing-triple) 0; } #main-menu.menu-open { display: flex; flex-direction: column; align-items: center; justify-content: center; } #main-menu.menu-open ul { width: 100%; align-items: center; } #main-menu.menu-open a[href^="#!"] { font-size: calc(var(--font-size-base) * 2); } #main-content { grid-column: 1; height: calc(100vh - var(--spacing-double) - var(--footer-height, 80px)); } b-hamburger.menu-toggle-label, .menu-toggle-label { display: block; position: fixed; bottom: var(--spacing-double); left: var(--spacing-double); z-index: 1001; background: var(--accent, hsl(210, 100%, 50%)); color: var(--secondary-bg, hsl(0, 0%, 100%)); border: none; border-radius: 50%; width: 3rem; height: 3rem; font-size: var(--font-size-h3); cursor: pointer; box-shadow: 0 2px 8px hsla(0, 0%, 0%, 0.2); text-align: center; line-height: 3rem; } b-hamburger.menu-toggle-label:hover, .menu-toggle-label:hover { opacity: 0.9; } b-hamburger.menu-toggle-label:focus, .menu-toggle-label:focus { outline: 2px solid var(--accent, hsl(210, 100%, 50%)); outline-offset: 2px; } #content-pane { padding-bottom: var(--spacing-triple); } .spotlight-projects { grid-template-columns: 1fr; } #main-footer { position: fixed; bottom: 0; flex-direction: column; align-items: flex-end; text-align: right; padding-right: var(--spacing-double); } }
@media (min-width: 1400px) { #layout-wrapper { max-width: 1400px; margin: 0 auto; } }
@container timeline (max-width: 600px) { .timeline-filters { float: none; width: 100%; position: static; margin: 0 0 var(--spacing-triple) 0; } .filter-controls { flex-direction: row; flex-wrap: wrap; } .timeline-filters > .filter-controls:last-of-type { margin-top: 0; } .timeline-filters > .filter-separator { display: block; height: 1px; width: 100%; background: hsla(0, 0%, 0%, 0.2); margin: var(--spacing-triple) 0; } .filter-controls label { min-width: 125px; } }

/* Font Awesome font-display optimization */
@font-face {
    font-family: "Font Awesome 6 Free";
    font-style: normal;
    font-weight: 900;
    font-display: swap;
    src: url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-solid-900.woff2") format("woff2");
}

</style>
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" /></noscript>
    <style id="flavor-style"></style>
    <style id="transition-style"></style>
    <script>
        // Asynchronously load Font Awesome CSS after initial render
        (function() {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css';
            link.integrity = 'sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==';
            link.crossOrigin = 'anonymous';
            link.referrerPolicy = 'no-referrer';
            // Load after initial render to avoid blocking
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    requestAnimationFrame(function() {
                        document.head.appendChild(link);
                    });
                });
            } else {
                requestAnimationFrame(function() {
                    document.head.appendChild(link);
                });
            }
        })();
    </script>
</head>
<body>
    <b-skip-link></b-skip-link>
    
    <div id="backgrounds"></div>
    
    <div id="layout-wrapper">
        <b-hamburger class="menu-toggle-label" aria-label="Toggle menu" aria-expanded="false">☰</b-hamburger>
        
        <nav id="main-menu" role="navigation" aria-label="Main navigation">
            <ul>
                <li><a href="#!/Resume"><i class="fa-solid fa-file-lines" aria-hidden="true"></i> Résumé</a></li>
                <li><a href="#!/Projects"><i class="fa-solid fa-folder-open" aria-hidden="true"></i> Projects</a></li>
                <li><a href="#!/History"><i class="fa-solid fa-clock-rotate-left" aria-hidden="true"></i> History</a></li>
                <li><a href="#!/Skillsets"><i class="fa-solid fa-tags" aria-hidden="true"></i> Skillsets</a></li>
                <li><a href="#!/About-Me"><i class="fa-solid fa-user" aria-hidden="true"></i> About Me</a></li>
                <li><a href="#!/My-Stance-On-AI"><i class="fa-solid fa-robot" aria-hidden="true"></i> My Stance On AI</a></li>
                <li><a href="#!/Contact"><i class="fa-solid fa-envelope" aria-hidden="true"></i> Contact</a></li>
            </ul>
        </nav>

        <main id="main-content" role="main">
            <div id="content-pane"></div>
        </main>

        <aside id="situational-menu" aria-hidden="true" role="complementary">
            <nav aria-label="Situational navigation">
                <h2>Breadcrumbs</h2>
                <b-breadcrumbs>
                    <ul></ul>
                </b-breadcrumbs>
            </nav>
        </aside>
    </div>

    <footer id="main-footer">
        <b-flavor-selector></b-flavor-selector>
        <p class="copyright">&copy; <b-date></b-date> Will Brall.</p>
    </footer>
    
    <div id="foregrounds"></div>

    <script src="components/base/b-json-loader.js" defer></script>
    <script src="js/router.js" defer></script>
    <script>
    // Load Three.js dynamically only when needed (for b-3d-scene components)
    (function() {
        let threeJsLoading = null;
        window.loadThreeJs = function() {
            if (typeof THREE !== 'undefined') {
                return Promise.resolve(THREE);
            }
            if (threeJsLoading) {
                return threeJsLoading;
            }
            threeJsLoading = new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
                script.integrity = 'sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/ey98U3t2vZ0qQ==';
                script.crossOrigin = 'anonymous';
                script.referrerPolicy = 'no-referrer';
                script.onload = () => resolve(THREE);
                script.onerror = () => {
                    threeJsLoading = null;
                    reject(new Error('Failed to load Three.js'));
                };
                document.head.appendChild(script);
            });
            return threeJsLoading;
        };
    })();
    </script>
    <script>
/**
 * Loader.js - Auto-loads web components from HTML
 * Reads incoming HTML, finds web components, and autoloads their .js files
 */

(function() {
    'use strict';

    const componentCache = new Map();
    const pendingLoads = new Map();

    function loadComponent(componentName) {
        // If already loaded, return immediately
        if (componentCache.has(componentName)) {
            return Promise.resolve(componentCache.get(componentName));
        }

        // If already loading, return the existing promise
        if (pendingLoads.has(componentName)) {
            return pendingLoads.get(componentName);
        }

        // Check if script tag already exists in DOM
        const existingScript = document.querySelector(`script[src="components/${componentName}.js"]`);
        if (existingScript) {
            // Script exists but not in cache yet - wait for it to load
            const loadPromise = new Promise((resolve, reject) => {
                const checkLoaded = () => {
                    if (componentCache.has(componentName)) {
                        resolve(componentCache.get(componentName));
                    } else {
                        // Wait a bit and check again
                        setTimeout(checkLoaded, 50);
                    }
                };
                checkLoaded();
            });
            pendingLoads.set(componentName, loadPromise);
            return loadPromise;
        }

        // Create new load promise
        const loadPromise = new Promise((resolve, reject) => {
            const script = document.createElement('script');
            script.src = `components/${componentName}.js`;
            script.onload = () => {
                componentCache.set(componentName, true);
                pendingLoads.delete(componentName);
                resolve();
            };
            script.onerror = () => {
                console.warn(`Failed to load component: ${componentName}`);
                pendingLoads.delete(componentName);
                reject(new Error(`Failed to load component: ${componentName}`));
            };
            document.head.appendChild(script);
        });

        pendingLoads.set(componentName, loadPromise);
        return loadPromise;
    }

    function findComponents(element = document) {
        const components = new Set();
        const customElements = element.querySelectorAll('*');
        
        customElements.forEach(el => {
            const tagName = el.tagName.toLowerCase();
            // Only add if not in cache and not already pending
            if (tagName.includes('-') && !componentCache.has(tagName) && !pendingLoads.has(tagName)) {
                components.add(tagName);
            }
        });

        return Array.from(components);
    }

    function initializeComponents() {
        const components = findComponents();
        // Separate critical components (needed for initial render) from non-critical
        const criticalComponents = ['b-skip-link', 'b-hamburger', 'b-date', 'b-breadcrumbs', 'b-flavor-selector'];
        const critical = components.filter(comp => criticalComponents.includes(comp));
        const nonCritical = components.filter(comp => !criticalComponents.includes(comp));
        
        // Load critical components immediately
        const criticalPromises = critical.map(comp => loadComponent(comp).catch(() => {}));
        
        // Load non-critical components when idle
        const loadNonCritical = () => {
            const nonCriticalPromises = nonCritical.map(comp => loadComponent(comp).catch(() => {}));
            return Promise.all(nonCriticalPromises);
        };
        
        if (window.requestIdleCallback) {
            requestIdleCallback(() => {
                loadNonCritical().catch(() => {});
            }, { timeout: 2000 });
        } else {
            // Fallback for browsers without requestIdleCallback
            setTimeout(loadNonCritical, 100);
        }
        
        return Promise.all(criticalPromises);
    }

    // Initialize on DOM ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeComponents);
    } else {
        initializeComponents();
    }

    // Watch for dynamically added components (throttled for performance)
    let observerTimeout = null;
    const pendingComponents = new Set();
    
    function processPendingComponents() {
        if (pendingComponents.size === 0) return;
        const components = Array.from(pendingComponents);
        pendingComponents.clear();
        components.forEach(comp => loadComponent(comp).catch(() => {}));
    }
    
    const observer = new MutationObserver(mutations => {
        // Batch component discovery
        mutations.forEach(mutation => {
            mutation.addedNodes.forEach(node => {
                if (node.nodeType === 1) { // Element node
                    const components = findComponents(node);
                    components.forEach(comp => pendingComponents.add(comp));
                }
            });
        });
        
        // Throttle component loading
        if (observerTimeout) {
            clearTimeout(observerTimeout);
        }
        observerTimeout = setTimeout(() => {
            if (window.requestIdleCallback) {
                requestIdleCallback(processPendingComponents, { timeout: 500 });
            } else {
                processPendingComponents();
            }
        }, 100);
    });

    observer.observe(document.body, {
        childList: true,
        subtree: true
    });

    // Export for manual loading if needed
    window.ComponentLoader = {
        load: loadComponent,
        find: findComponents
    };

    // Router functionality - handles hashbang routing (#!)
    // Moved to external file: js/router.js (loaded with defer)

    // Scroll main content when scrolling outside of it
    (function() {
        'use strict';

        function initScrollDelegation() {
            const mainContent = document.getElementById('main-content');
            if (!mainContent) {
                // Retry if main-content isn't ready yet
                setTimeout(initScrollDelegation, 100);
                return;
            }

            // List of scrollable elements that should handle their own scrolling
            const scrollableSelectors = [
                '#main-menu',
                '#situational-menu',
                '.card-list',
                '.link-list',
                '.timeline-container',
                'b-projects',
                'b-skillsets'
            ];

            function isInsideScrollableElement(element) {
                if (!element) return false;
                // Check if element or any ancestor is a scrollable element (excluding main-content)
                for (const selector of scrollableSelectors) {
                    const closest = element.closest ? element.closest(selector) : null;
                    if (closest) {
                        // Check if this element can actually scroll
                        const canScroll = closest.scrollHeight > closest.clientHeight;
                        if (canScroll) {
                            return true;
                        }
                    }
                }
                return false;
            }

            function isInsideMainContent(element) {
                if (!element) return false;
                return element === mainContent || (element.closest && element.closest('#main-content'));
            }

            document.addEventListener('wheel', function(e) {
                const target = e.target;
                
                // If we're inside a scrollable element (other than main-content), let it handle scrolling
                if (isInsideScrollableElement(target)) {
                    return; // Let the scrollable element handle it
                }
                
                // If we're inside main-content, let it handle its own scrolling naturally
                if (isInsideMainContent(target)) {
                    return; // Main-content will handle its own scroll
                }
                
                // Otherwise, we're outside any scrollable area - scroll main-content
                if (mainContent.scrollHeight > mainContent.clientHeight) {
                    e.preventDefault();
                    const deltaY = e.deltaY;
                    const currentScroll = mainContent.scrollTop;
                    const maxScroll = mainContent.scrollHeight - mainContent.clientHeight;
                    
                    // Calculate new scroll position
                    let newScroll = currentScroll + deltaY;
                    newScroll = Math.max(0, Math.min(newScroll, maxScroll));
                    
                    mainContent.scrollTop = newScroll;
                }
            }, { passive: false });
        }

        // Initialize scroll delegation when idle (defer non-critical event listeners)
        function setupScrollDelegation() {
            if (window.requestIdleCallback) {
                requestIdleCallback(initScrollDelegation, { timeout: 2000 });
            } else {
                setTimeout(initScrollDelegation, 500);
            }
        }
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', setupScrollDelegation);
        } else {
            setupScrollDelegation();
        }
    })();

    // Handle video pausing for reduced motion preference
    (function() {
        function pauseVideosIfReducedMotion() {
            const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
            if (prefersReducedMotion) {
                const videos = document.querySelectorAll('#backgrounds video, #foregrounds video');
                videos.forEach(video => {
                    video.pause();
                });
            }
        }

        // Pause videos on initial load if reduced motion is enabled (defer non-critical)
        function setupReducedMotion() {
            pauseVideosIfReducedMotion();
            // Listen for changes to reduced motion preference
            const reducedMotionQuery = window.matchMedia("(prefers-reduced-motion: reduce)");
            reducedMotionQuery.addEventListener('change', pauseVideosIfReducedMotion);
        }
        
        if (window.requestIdleCallback) {
            requestIdleCallback(setupReducedMotion, { timeout: 2000 });
        } else {
            setTimeout(setupReducedMotion, 500);
        }
    })();
})();
</script>
    <script id="flavor-script" src=""></script>
</body>
</html>

