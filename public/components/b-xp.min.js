class BXP extends HTMLElement{static get observedAttributes(){return['level'];}
static BRAILLE=['⠁','⠃','⠇','⠏','⠟'];static LABELS=['Novice','Moderate','Average','Expert','Master'];constructor(){super();this._cachedLevel=null;}
connectedCallback(){this.render();}
attributeChangedCallback(){const newLevel=this.getLevel();if(this._cachedLevel!==newLevel){this.render();}}
getLevel(){const raw=this.getAttribute('level');const n=parseInt(raw,10);if(!Number.isFinite(n)||n<1)return 1;if(n>5)return 5;return n;}
render(){const level=this.getLevel();if(this._cachedLevel===level&&this.firstElementChild){return;}
this._cachedLevel=level;const levelIndex=level-1;const braille=BXP.BRAILLE[levelIndex]||BXP.BRAILLE[0];const label=BXP.LABELS[levelIndex]||BXP.LABELS[0];if(!this.firstElementChild){const charSpan=document.createElement('span');charSpan.className='xp-char';charSpan.setAttribute('aria-hidden','true');charSpan.textContent=braille;const labelSpan=document.createElement('span');labelSpan.className='sr-only';labelSpan.textContent=label+' ';this.appendChild(charSpan);this.appendChild(labelSpan);}else{this.firstElementChild.textContent=braille;this.lastElementChild.textContent=label+' ';}
this.setAttribute('aria-hidden','false');this.setAttribute('title',label);}}
customElements.define('b-xp',BXP);