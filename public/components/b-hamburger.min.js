class BHamburger extends HTMLElement{constructor(){super();}
connectedCallback(){const menu=document.getElementById('main-menu');const menuList=menu?.querySelector('ul');if(!menu){console.warn('b-hamburger: main-menu element not found');return;}
if(!this.hasAttribute('role')){this.setAttribute('role','button');}
if(!this.hasAttribute('tabindex')){this.setAttribute('tabindex','0');}
this.addEventListener('click',()=>{this.toggleMenu(menu);});this.addEventListener('keydown',(e)=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();this.toggleMenu(menu);}});if(menuList){menuList.addEventListener('click',(e)=>{if(e.target.tagName==='A'||e.target.closest('a')){this.closeMenu(menu);}});}}
toggleMenu(menu){const isOpen=menu.classList.toggle('menu-open');this.setAttribute('aria-expanded',isOpen);this.textContent=isOpen?'✕':'☰';}
closeMenu(menu){menu.classList.remove('menu-open');this.setAttribute('aria-expanded','false');this.textContent='☰';}}
customElements.define('b-hamburger',BHamburger);